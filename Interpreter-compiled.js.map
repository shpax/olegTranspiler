{"version":3,"sources":["Interpreter.js"],"names":[],"mappings":";;;;;;IACM,W;;;;;;;8BAEI;AACF,eACK,KADL,CAEK,IAFL,CAEU,SAAS,gBAAT,CAA0B,0BAA1B,CAFV,EAGK,GAHL,CAGS;AAAA,uBAAK,EAAE,SAAP;AAAA,aAHT,EAIK,OAJL,CAIa,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAJb;AAKH;;;gCAEO,I,EAAM;AACV,gBAAM,SAAS,KAAK,OAAL,CAAa,KAAb,EAAmB,EAAnB,EACV,KADU,CACJ,IADI,EAEV,GAFU,CAEN;AAAA,uBAAK,EAAE,OAAF,CAAU,MAAV,EAAiB,EAAjB,EAAqB,OAArB,CAA6B,MAA7B,EAAoC,EAApC,EAAwC,OAAxC,CAAgD,QAAhD,EAAyD,EAAzD,CAAL;AAAA,aAFM,EAGV,GAHU,CAGN,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAHM,EAIV,IAJU,CAIL,IAJK,CAAf;;AAMA,iBAAK,MAAL;AACA;AACH;;;kCAES,I,EAAM;AACZ,gBAAI,UAAU,KACT,OADS,CACD,wBADC,EACwB,UADxB,EAET,OAFS,CAED,UAFC,EAEW,WAFX,EAGT,OAHS,CAGD,UAHC,EAGW,gBAHX,EAIT,OAJS,CAID,YAJC,EAIa,KAJb,EAKT,OALS,CAKD,SALC,EAKU,YALV,CAAd;;AAOA,gBAAI,QAAQ,MAAZ,EAAoB,WAAW,GAAX;;AAEpB,mBAAO,OAAP;AACH;;;;;;AAIL,IAAM,cAAc,IAAI,WAAJ,EAApB;AACA,OAAO,gBAAP,CAAwB,MAAxB,EAAgC,YAAY,GAAZ,CAAgB,IAAhB,CAAqB,WAArB,CAAhC","file":"Interpreter-compiled.js","sourcesContent":["\nclass Interpreter {\n\n    run() {\n        []\n            .slice\n            .call(document.querySelectorAll('script[type=\"text/oleg\"]'))\n            .map(s => s.innerText)\n            .forEach(this.compile.bind(this));\n    }\n\n    compile(text) {\n        const script = text.replace(/\\r/g,'')\n            .split(/\\n/)\n            .map(l => l.replace(/^\\s+/,'').replace(/\\s+$/,'').replace(/\\s\\s+/g,''))\n            .map(this.parseLine.bind(this))\n            .join(\"\\n\");\n\n        eval(script);\n        // console.log(script);\n    }\n\n    parseLine(line) {\n        let newLine = line\n            .replace(/oleg\\s([^\\s]+)\\szovut/g,'var $1 =')\n            .replace(/menya\\./g, 'document.')\n            .replace(/\\.zovut/g, '.querySelector')\n            .replace(/\\szovut\\s/g, ' = ')\n            .replace(/.menya/g, '.innerHTML')\n\n        if (newLine.length) newLine += ';';\n\n        return newLine;\n    }\n\n}\n\nconst interpreter = new Interpreter();\nwindow.addEventListener('load', interpreter.run.bind(interpreter));"]}